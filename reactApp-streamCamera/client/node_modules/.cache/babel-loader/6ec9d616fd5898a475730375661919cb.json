{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\reactApp-streamCamera\\\\client\\\\src\\\\Components\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"../Register.css\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { Alert, AlertTitle } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nconst Register = () => {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const [success, setSuccess] = React.useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    setError(\"\");\n    setSuccess(\"\");\n  }, [name, email, password]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      if (!email) return setError(\"Please enter your email address to register\");\n      if (!password) return setError(\"Please enter your password to register\");\n      if (!name) return setError(\"Please enter your name to register\");\n      if (password.length < 8) return setError(\"Password must be at least 8 characters long\");\n      let res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/register`, {\n        name,\n        email,\n        password\n      });\n      setSuccess(res.data.message);\n      res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/login`, {\n        email,\n        password\n      });\n      cookies.set(\"accessToken\", res.data.accessToken, {\n        path: \"/\"\n      });\n      cookies.set(\"user\", res.data.user, {\n        path: \"/\"\n      });\n      navigate(\"/\", {\n        replace: true\n      });\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n\n      console.log(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Something went wrong\");\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Server Response Error\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Register Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        name: \"name\",\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email\",\n        name: \"email\",\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Alert\",\n      children: [error ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : null, success ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"success\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), success]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"FFbi8mertpZEbi887+yF/XTKAa4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","axios","Cookies","Alert","AlertTitle","useNavigate","cookies","Register","name","setName","email","setEmail","password","setPassword","error","setError","success","setSuccess","navigate","handleSubmit","e","preventDefault","length","res","post","process","env","REACT_APP_API_URL","data","message","set","accessToken","path","user","replace","err","console","log","response","target","value"],"sources":["D:/React/reactApp-streamCamera/client/src/Components/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../Register.css\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { Alert, AlertTitle } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nconst cookies = new Cookies();\r\n\r\nconst Register = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = React.useState(\"\");\r\n  const [success, setSuccess] = React.useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  }, [name, email, password]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!email)\r\n        return setError(\"Please enter your email address to register\");\r\n\r\n      if (!password) return setError(\"Please enter your password to register\");\r\n\r\n      if (!name) return setError(\"Please enter your name to register\");\r\n\r\n      if (password.length < 8)\r\n        return setError(\"Password must be at least 8 characters long\");\r\n\r\n      let res = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/auth/register`,\r\n        {\r\n          name,\r\n          email,\r\n          password,\r\n        }\r\n      );\r\n      setSuccess(res.data.message);\r\n      res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      cookies.set(\"accessToken\", res.data.accessToken, { path: \"/\" });\r\n      cookies.set(\"user\", res.data.user, { path: \"/\" });\r\n      navigate(\"/\", { replace: true });\r\n    } catch (err) {\r\n      console.log(err.response?.data?.message || \"Something went wrong\");\r\n      setError(err.response?.data?.message || \"Server Response Error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <h3>Register Here</h3>\r\n        <label htmlFor=\"email\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          name=\"name\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <label htmlFor=\"password\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button>Register</button>\r\n      </form>\r\n      <div className=\"Alert\">\r\n        {error ? (\r\n          <Alert variant=\"filled\" severity=\"error\">\r\n            <AlertTitle>Error</AlertTitle>\r\n            {error}\r\n          </Alert>\r\n        ) : null}\r\n        {success ? (\r\n          <Alert variant=\"filled\" severity=\"success\">\r\n            <AlertTitle>Success</AlertTitle>\r\n            {success}\r\n          </Alert>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,iBAAP;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,eAAlC;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AACA,MAAMC,OAAO,GAAG,IAAIJ,OAAJ,EAAhB;;AAEA,MAAMK,QAAQ,GAAG,MAAM;EAAA;;EACrB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBjB,KAAK,CAACC,QAAN,CAAe,EAAf,CAA1B;EACA,MAAM,CAACiB,OAAD,EAAUC,UAAV,IAAwBnB,KAAK,CAACC,QAAN,CAAe,EAAf,CAA9B;EAEA,MAAMmB,QAAQ,GAAGb,WAAW,EAA5B;EAEAL,SAAS,CAAC,MAAM;IACde,QAAQ,CAAC,EAAD,CAAR;IACAE,UAAU,CAAC,EAAD,CAAV;EACD,CAHQ,EAGN,CAACT,IAAD,EAAOE,KAAP,EAAcE,QAAd,CAHM,CAAT;;EAKA,MAAMO,YAAY,GAAG,MAAOC,CAAP,IAAa;IAChCA,CAAC,CAACC,cAAF;;IACA,IAAI;MACF,IAAI,CAACX,KAAL,EACE,OAAOK,QAAQ,CAAC,6CAAD,CAAf;MAEF,IAAI,CAACH,QAAL,EAAe,OAAOG,QAAQ,CAAC,wCAAD,CAAf;MAEf,IAAI,CAACP,IAAL,EAAW,OAAOO,QAAQ,CAAC,oCAAD,CAAf;MAEX,IAAIH,QAAQ,CAACU,MAAT,GAAkB,CAAtB,EACE,OAAOP,QAAQ,CAAC,6CAAD,CAAf;MAEF,IAAIQ,GAAG,GAAG,MAAMtB,KAAK,CAACuB,IAAN,CACb,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,gBADnB,EAEd;QACEnB,IADF;QAEEE,KAFF;QAGEE;MAHF,CAFc,CAAhB;MAQAK,UAAU,CAACM,GAAG,CAACK,IAAJ,CAASC,OAAV,CAAV;MACAN,GAAG,GAAG,MAAMtB,KAAK,CAACuB,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,aAA5C,EAA0D;QACpEjB,KADoE;QAEpEE;MAFoE,CAA1D,CAAZ;MAIAN,OAAO,CAACwB,GAAR,CAAY,aAAZ,EAA2BP,GAAG,CAACK,IAAJ,CAASG,WAApC,EAAiD;QAAEC,IAAI,EAAE;MAAR,CAAjD;MACA1B,OAAO,CAACwB,GAAR,CAAY,MAAZ,EAAoBP,GAAG,CAACK,IAAJ,CAASK,IAA7B,EAAmC;QAAED,IAAI,EAAE;MAAR,CAAnC;MACAd,QAAQ,CAAC,GAAD,EAAM;QAAEgB,OAAO,EAAE;MAAX,CAAN,CAAR;IACD,CA3BD,CA2BE,OAAOC,GAAP,EAAY;MAAA;;MACZC,OAAO,CAACC,GAAR,CAAY,kBAAAF,GAAG,CAACG,QAAJ,sFAAcV,IAAd,0EAAoBC,OAApB,KAA+B,sBAA3C;MACAd,QAAQ,CAAC,mBAAAoB,GAAG,CAACG,QAAJ,yFAAcV,IAAd,4EAAoBC,OAApB,KAA+B,uBAAhC,CAAR;IACD;EACF,CAjCD;;EAmCA,oBACE;IAAA,wBACE;MAAM,QAAQ,EAAEV,YAAhB;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QACE,IAAI,EAAC,MADP;QAEE,WAAW,EAAC,MAFd;QAGE,IAAI,EAAC,MAHP;QAIE,QAAQ,EAAGC,CAAD,IAAOX,OAAO,CAACW,CAAC,CAACmB,MAAF,CAASC,KAAV;MAJ1B;QAAA;QAAA;QAAA;MAAA,QAHF,eASE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF,eAUE;QACE,IAAI,EAAC,MADP;QAEE,WAAW,EAAC,OAFd;QAGE,IAAI,EAAC,OAHP;QAIE,QAAQ,EAAGpB,CAAD,IAAOT,QAAQ,CAACS,CAAC,CAACmB,MAAF,CAASC,KAAV;MAJ3B;QAAA;QAAA;QAAA;MAAA,QAVF,eAgBE;QAAO,OAAO,EAAC,UAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBF,eAiBE;QACE,IAAI,EAAC,UADP;QAEE,WAAW,EAAC,UAFd;QAGE,IAAI,EAAC,UAHP;QAIE,QAAQ,EAAGpB,CAAD,IAAOP,WAAW,CAACO,CAAC,CAACmB,MAAF,CAASC,KAAV;MAJ9B;QAAA;QAAA;QAAA;MAAA,QAjBF,eAuBE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eA0BE;MAAK,SAAS,EAAC,OAAf;MAAA,WACG1B,KAAK,gBACJ,QAAC,KAAD;QAAO,OAAO,EAAC,QAAf;QAAwB,QAAQ,EAAC,OAAjC;QAAA,wBACE,QAAC,UAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAEGA,KAFH;MAAA;QAAA;QAAA;QAAA;MAAA,QADI,GAKF,IANN,EAOGE,OAAO,gBACN,QAAC,KAAD;QAAO,OAAO,EAAC,QAAf;QAAwB,QAAQ,EAAC,SAAjC;QAAA,wBACE,QAAC,UAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAEGA,OAFH;MAAA;QAAA;QAAA;QAAA;MAAA,QADM,GAKJ,IAZN;IAAA;MAAA;MAAA;MAAA;IAAA,QA1BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA2CD,CA5FD;;GAAMT,Q;UAOaF,W;;;KAPbE,Q;AA8FN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}